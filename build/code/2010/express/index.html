<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>A First Look at node.js and Express | Code | Nicolas Perriault</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width">
    <link href="http://fonts.googleapis.com/css?family=Sorts+Mill+Goudy&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    
        <link rel="stylesheet" type="text/css" href="/nperriault/build/static/css/skeleton.css">
    
        <link rel="stylesheet" type="text/css" href="/nperriault/build/static/css/style.css">
    
    <link rel="alternate" type="application/rss+xml" href="/nperriault/build/feed/" title="Nicolas Perriault - global feed (RSS)" />
    <script src="/static/js/libs/modernizr-2.5.2-respond-1.1.0.min.js"></script>
</head>
<body class="code">
    <!--[if lt IE 7]>
    <p class="chromeframe">Your browser is <em>ancient!</em> Please <a href="http://www.quirksmode.org/upgrade.html">upgrade</a>.</p>
    <![endif]-->
    <div class="container">
        <header class="twelve columns offset-by-four main-title">
            <h1><a href="/nperriault/build/">Hi, I'm <strong>Nicolas.</strong></a></h1>
            <small>I code stuff. I take photos. I write rants.</small>
        </header>
        <div class="four columns">
            <nav class="sidebar">
                <ul>
                    <li class="home"><a href="/nperriault/build/">Home</a></li>
                    <li class="code"><a href="/nperriault/build/code/">Code</a></li>
                    <li class="photography"><a href="/nperriault/build/photography/">Photography</a></li>
                    <li class="thoughts"><a href="/nperriault/build/thoughts/">Thoughts</a></li>
                    <li class="contact"><a href="/nperriault/build/contact/">Contact</a></li>
                </ul>
            </nav>
        </div>
        <div class="twelve columns offset-by-four contents">
            
<p>With all the hype coming to server-side Javascript lately, especially around <a href="http://nodejs.org/">Node</a>, I was feeling the need to give it a try to see how it goes. Also, getting back to work after three full weeks of unwired holidays was hard enough to worth deserving some playtime with cool and fun technologies.</p>
<p>Node is described as an <em>Evented I/O Framework for Google's V8 JavaScript Engine</em>. Think of it as a toolkit to produce high-performance distributed, event-driven and scalable non-blocking network servers. Okay, whatever the way I want to describe the project, it's buzzword-bingo™. Let's say it's mainly about catching events and react accordingly, to make load distribution and parallel processing easier and more effective.</p>
<h3>Installing Node</h3>
<p>Installation on my Mac went smoothly and took nearly two minutes by compiling it from the sources; here's how I did (there might be easier or better ways, I don't really care):</p>
<pre><code>$ mkdir tmp
$ git clone http://github.com/ry/node.git
$ cd node
$ ./configure &amp;&amp; make &amp;&amp; sudo make install
</code></pre>
<p>You now have access to the <code>node</code> executable available on your system.</p>
<p>A simple example of a Node HTTP server (put the code below in a <code>test.js</code> file):</p>
<pre><code>var http = require('http');

var server = http.createServer(function(req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.write('Hello World');
  res.end();
});

server.listen(3000, "127.0.0.1");
</code></pre>
<p>Then launch the created webserver using the command line:</p>
<pre><code>$ node test.js
</code></pre>
<p>And point your browser at <code>http://127.0.0.1:3000</code> to get printed <code>Hello World</code>. Neat, huh?</p>
<h3>Introducing Express, a Web Framework on top of Node</h3>
<p><a href="http://expressjs.com/">Express</a> is a Web framework built on top of Node, HTTP and <a href="http://github.com/senchalabs/connect">Connect</a>, allowing easy creation of full-fledged Web applications. It has <a href="http://expressjs.com/guide.html#Routing">routing</a>, handles <a href="http://expressjs.com/guide.html#Configuration">environments</a> as well as several <a href="http://expressjs.com/guide.html#Template-Engines">template engines</a> and <a href="http://expressjs.com/guide.html">much more</a>.</p>
<p>Installation is as easy as Node's one, so here we go:</p>
<pre><code>$ git clone http://github.com/visionmedia/express.git
$ cd express
$ git submodule update --init
$ sudo make install &amp;&amp; sudo make install-support
</code></pre>
<p>That's it. You can now write your own test application, eg. in a new <code>hello.js</code> file:</p>
<pre><code>var app = require('express').createServer();

app.get('/', function(req, res){
    res.send('Hello World');
});

app.get('/hello/:name', function(req, res){
    res.send('Hello ' + req.param('name') + '!');
});

app.listen(3000, "127.0.0.1");

console.log('Server running at http://127.0.0.1:3000/');
</code></pre>
<p>Launch your webapp server by the command line:</p>
<pre><code>$ node hello.js
</code></pre>
<p>Express and will create a Node server listening to the local port 3000, so head your favorite browser to <code>http://127.0.0.1:3000/</code> then <code>http://127.0.0.1:3000/hello/niko</code> to get the picture of what the above code does. Those familiar with Web framework such as rails, django or symfony won't be much disturbed.</p>
<p>Express also ships with an <code>express</code> executable which provides useful commands. To create a new <code>hello</code> application skeleton, just run:</p>
<pre><code> $ express hello
   create : hello
   create : hello/app.js
   create : hello/logs
   create : hello/public/javascripts
   create : hello/pids
   create : hello/public/stylesheets
   create : hello/public/stylesheets/style.less
   create : hello/public/images
   create : hello/views/partials
   create : hello/views/layout.jade
   create : hello/views/index.jade
   create : hello/test
   create : hello/test/app.test.js
</code></pre>
<p>Above command just created an <code>hello</code> project directory where you can cd into and launch the server by its default front controller <code>app.js</code>:</p>
<pre><code>$ cd hello
$ node app.js
Express server listening on port 3000
</code></pre>
<p>Note that the generated project skeleton implies using <a href="jade-lang.com/">Jade</a> as a tremplate engine and the <a href="http://lesscss.org/">Less CSS syntax</a>, while one might want to use something else, which is perfectly possible by <a href="http://expressjs.com/guide.html#Configuration">configuring</a> the project differently.</p>
<p>Next steps documentation will be provided by <a href="http://expressjs.com/guide.html">official Express documentation</a>.</p>
<p>Of course, Express might not be as full-featured as older well-established Web frameworks, but for simple needs it can be pretty easy to setup and deploy, and — probably equally importantly — fun to play with and learn.</p>
<h3>Conclusion</h3>
<p>As you can see, installing and using Node and Express is quite straightforward, even if you have to dig into the deeper Web to find docs, when they exist. Javascript is a great, agile and well-known language, and taking part of it server-side definitely makes sense if you want my opinion.</p>
<p>Let's see how this will evolve in the future, as there are not as many backend-oriented libs in JavaScript as there are in other languages like python, ruby or php yet. But <a href="http://github.com/ry/node/wiki/modules">more and more node modules</a> are appearing day after day, such as <a href="http://www.learnboost.com/mongoose/">Mongoose</a> or <a href="http://socket.io/">Socket.IO</a>, which I'll definitely be playing with as soon as possible.</p>
<p>Thanks for your attention, have fun, take care and don't break the Web.</p>

        </div>
        <footer class="site-footer">
            <p>
                &copy; 2012 Nicolas Perriault
                — <a href="https://twitter.com/n1k0">Tweet at me</a>
                — <a href="https://github.com/n1k0">Get my code</a>
                — <a href="http://500px.com/n1k0">Enjoy my pics</a>
                — <a href="/nperriault/build/contact/">Contact me</a>
            </p>
        </footer>
    </div>
    <!-- /container -->
    
        <script type="text/javascript" src="/nperriault/build/static/js/libs/jquery-1.7.1.min.js"></script>
    
        <script type="text/javascript" src="/nperriault/build/static/js/libs/tabs.js"></script>
    
        <script type="text/javascript" src="/nperriault/build/static/js/app.js"></script>
    
    <script>
        var _gaq=[['_setAccount', 'XXX'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
</body>
</html>